<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>ç³»ç»Ÿå…¥ä¾µ Â· ç”Ÿå­˜æ¸¸æˆ</title>

<style>
    body {
        margin: 0;
        background: black;
        overflow: hidden;
        font-family: "Consolas", monospace;
    }

    /* å…¥ä¾µç•Œé¢ */
    #hackerScreen {
        position: fixed;
        inset: 0;
        background: black;
        color: #0f0;
        padding: 30px;
        font-size: 18px;
        z-index: 50;
        white-space: pre-wrap;
        text-shadow: 0 0 6px #0f0;
    }

    #startBtn {
        margin-top: 40px;
        padding: 12px 28px;
        font-size: 20px;
        background: #0f0;
        color: black;
        border: none;
        cursor: pointer;
        border-radius: 8px;
    }

    #startBtn:hover {
        background: #9fff9f;
    }

    /* æ¸¸æˆç”»å¸ƒ */
    #game {
        position: fixed;
        inset: 0;
        background: #232323;
        display: none;
        z-index: 1;
    }

    /* ç©å®¶ */
    #player {
        position: absolute;
        width: 50px;
        height: 50px;
        font-size: 45px;
        transition: transform .1s;
    }

    /* å²è±å§† */
    #slime {
        position: absolute;
        width: 55px;
        height: 55px;
        font-size: 45px;
        animation: bounce 0.6s ease-in-out infinite alternate;
    }

    @keyframes bounce {
        from { transform: translateY(0); }
        to   { transform: translateY(-10px); }
    }

    /* æ‰è½çŸ³å¤´ */
    .rock {
        position: absolute;
        font-size: 40px;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        from { transform: rotate(0deg); }
        to   { transform: rotate(360deg); }
    }

    /* è“å± */
    #bluescreen {
        display: none;
        position: fixed;
        inset: 0;
        background: #0c4ad4;
        color: white;
        padding: 80px;
        font-size: 25px;
        line-height: 1.6;
        font-family: "Segoe UI", sans-serif;
        z-index: 9999;
    }
</style>
</head>

<body>

<!-- ================== å…¥ä¾µç•Œé¢ ================== -->
<div id="hackerScreen">
æ­£åœ¨æ¥å…¥ç³»ç»Ÿâ€¦â€¦
æ£€æµ‹åˆ°å¼‚å¸¸æŒ‡ä»¤â€¦â€¦
ç”¨æˆ·æ¡Œé¢æƒé™è¢«åŠ«æŒâ€¦â€¦
ç³»ç»Ÿä¸¥é‡å—æŸâ€¦â€¦

âš  ä½ å¿…é¡»é€šè¿‡æ¸¸æˆå­˜æ´»ï¼Œå¦åˆ™ç³»ç»Ÿå°†å´©æºƒï¼

æ“ä½œæ–¹å¼ï¼š
- W A S D æˆ–æ–¹å‘é”®æ§åˆ¶äººç‰©ç§»åŠ¨
- èº²é¿å²è±å§†è¿½å‡»ä¸ä»å¤©è€Œé™çš„çŸ³å¤´

<button id="startBtn">å¼€å§‹ç”Ÿå­˜</button>
</div>


<!-- ================== æ¸¸æˆ ================== -->
<div id="game">
    <div id="player">ğŸ§’</div>
    <div id="slime">ğŸ‘¾</div>
</div>


<!-- ================== è“å± ================== -->
<div id="bluescreen">
<div style="font-size: 90px;">:(</div>
ä½ çš„è®¾å¤‡é‡åˆ°é—®é¢˜ï¼Œéœ€è¦é‡æ–°å¯åŠ¨ã€‚

æˆ‘ä»¬æ­£åœ¨æ”¶é›†æŸäº›é”™è¯¯ä¿¡æ¯ï¼Œç„¶åä¼šä¸ºä½ è‡ªåŠ¨é‡å¯ã€‚
<br><br>
é”™è¯¯ä»£ç ï¼šSYSTEM_HACKED_FATAL_ERROR
</div>

<script>
/* ====== æ§ä»¶è·å– ====== */
const hackerScreen = document.getElementById("hackerScreen");
const startBtn = document.getElementById("startBtn");
const game = document.getElementById("game");
const player = document.getElementById("player");
const slime = document.getElementById("slime");
const bluescreen = document.getElementById("bluescreen");

/* ====== åˆå§‹åŒ–ä½ç½® ====== */
let pw = window.innerWidth / 2;
let ph = window.innerHeight / 2;

let sw = 100; 
let sh = 100;

/* ====== ç©å®¶ç§»åŠ¨æ§åˆ¶ ====== */
let keys = {};

document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

/* ====== æ¸¸æˆå¼€å§‹ ====== */
startBtn.addEventListener("click", () => {
    hackerScreen.style.display = "none";
    game.style.display = "block";

    requestAnimationFrame(gameLoop);
    setInterval(dropRock, 1500);
});

/* ====== æ‰è½çŸ³å¤´ ====== */
function dropRock() {
    const rock = document.createElement("div");
    rock.className = "rock";
    rock.textContent = "ğŸª¨";
    rock.style.left = Math.random() * window.innerWidth + "px";
    rock.style.top = "-50px";
    game.appendChild(rock);

    let y = -50;
    const fall = setInterval(() => {
        y += 6;
        rock.style.top = y + "px";

        if (y > window.innerHeight) {
            rock.remove();
            clearInterval(fall);
        }

        if (hit(rock, player)) {
            die();
        }
    }, 30);
}

/* ====== ä¸»å¾ªç¯ ====== */
function gameLoop() {
    // ç©å®¶ç§»åŠ¨
    if (keys["w"] || keys["ArrowUp"]) ph -= 4;
    if (keys["s"] || keys["ArrowDown"]) ph += 4;
    if (keys["a"] || keys["ArrowLeft"]) pw -= 4;
    if (keys["d"] || keys["ArrowRight"]) pw += 4;

    player.style.left = pw + "px";
    player.style.top = ph + "px";

    // å²è±å§†è¿½è¸ª
    let dx = pw - sw;
    let dy = ph - sh;
    let dis = Math.sqrt(dx * dx + dy * dy);

    sw += (dx / dis) * 1.8;
    sh += (dy / dis) * 1.8;

    slime.style.left = sw + "px";
    slime.style.top = sh + "px";

    // ç¢°åˆ°å²è±å§† â†’ æ­»äº¡
    if (hit(player, slime)) die();

    requestAnimationFrame(gameLoop);
}

/* ====== ç¢°æ’åˆ¤å®š ====== */
function hit(a, b) {
    let A = a.getBoundingClientRect();
    let B = b.getBoundingClientRect();
    return !(A.right < B.left || A.left > B.right || A.bottom < B.top || A.top > B.bottom);
}

/* ====== æ­»äº¡åŠ¨ä½œ ====== */
function die() {
    game.style.display = "none";
    bluescreen.style.display = "block";
}
</script>

</body>
</html>
