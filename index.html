<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>é»‘å®¢ç»ˆç«¯æ¨¡æ‹Ÿç³»ç»Ÿ</title>
<style>
    body {
        margin: 0;
        background: black;
        overflow: hidden;
        font-family: Consolas, monospace;
        color: #0f0;
    }

    /* ä»£ç é›¨ç”»å¸ƒ */
    #matrix {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
    }

    /* ç»ˆç«¯æ–‡æœ¬ */
    #terminal {
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 10;
        white-space: pre-wrap;
        text-shadow: 0 0 6px #0f0;
        font-size: 16px;
        width: 60%;
    }
    .cursor {
        display: inline-block;
        width: 10px;
        height: 18px;
        background: #0f0;
        animation: blink .7s infinite;
    }
    @keyframes blink {
        0%, 50% { opacity: 1; }
        51%, 100% { opacity: 0; }
    }

    /* æˆ˜æ–—åŒºåŸŸ */
    #arena {
        position: absolute;
        bottom: 80px;
        right: 50px;
        width: 400px;
        height: 200px;
        border: 2px solid #0f0;
        box-shadow: 0 0 15px #0f0;
        z-index: 20;
    }

    .fighter {
        position: absolute;
        bottom: 0;
        font-size: 40px;
        color: #0f0;
        text-shadow: 0 0 8px #0f0;
        transition: transform .25s;
    }

    .hp {
        position: absolute;
        top: -20px;
        width: 60px;
        height: 8px;
        background: rgba(0,255,0,0.2);
        border: 1px solid #0f0;
    }
    .hp-inner {
        height: 100%;
        background: #0f0;
    }

    /* è“å± */
    #bluescreen {
        position: fixed;
        inset: 0;
        background: #0a36ff;
        color: white;
        font-family: "Segoe UI", sans-serif;
        text-align: left;
        padding: 40px;
        font-size: 22px;
        line-height: 1.6;
        display: none;
        z-index: 9999;
    }
</style>
</head>
<body>

<!-- ä»£ç é›¨ -->
<canvas id="matrix"></canvas>

<!-- ç»ˆç«¯æ–‡å­— -->
<div id="terminal"></div>
<div class="cursor"></div>

<!-- æˆ˜æ–—åœº -->
<div id="arena">
    <div id="p1" class="fighter" style="left: 40px;">ğŸ¤º</div>
    <div id="p1hp" class="hp" style="left: 40px; top:20px;">
        <div class="hp-inner" id="p1hpinner" style="width:100%;"></div>
    </div>

    <div id="p2" class="fighter" style="right: 40px;">ğŸª–</div>
    <div id="p2hp" class="hp" style="right: 40px; top:20px;">
        <div class="hp-inner" id="p2hpinner" style="width:100%;"></div>
    </div>
</div>

<!-- è“å±ç•Œé¢ -->
<div id="bluescreen">
    <div style="font-size: 80px;">:(</div>
    <div style="margin-top: 20px;">ä½ çš„ç”µè„‘é‡åˆ°é—®é¢˜ï¼Œéœ€è¦é‡æ–°å¯åŠ¨ã€‚</div>
    <div style="margin-top: 10px;">æˆ‘ä»¬åªæ”¶é›†æŸäº›é”™è¯¯ä¿¡æ¯ï¼Œç„¶åæˆ‘ä»¬ä¼šä¸ºä½ é‡æ–°å¯åŠ¨ã€‚</div>

    <div style="margin-top: 40px; font-size: 18px;">
        é”™è¯¯ä»£ç ï¼šSYSTEM_HACKED_FATAL_ERROR
    </div>

    <div style="margin-top: 20px;">
        è¿›åº¦ï¼š 35%
    </div>

    <div style="margin-top: 50px; font-size: 16px; opacity: .7;">
        æƒ³äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—® https://fake.windows.support/hacked
    </div>

    <div style="font-size: 18px; margin-top: 10px;">
        ç‚¹å‡»ä»»æ„ä½ç½®ç»§ç»­â€¦
    </div>
</div>


<script>
/* ========================== */
/* ======== ä»£ç é›¨ ========== */
/* ========================== */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const chars = "01QWERTYUIOPã‚ã„ã†ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªæœªæ¥æœªæ¥æœªæ¥01";
const fontSize = 20;
const columns = canvas.width / fontSize;
const drops = Array(Math.floor(columns)).fill(1);

function drawMatrix() {
    ctx.fillStyle = "rgba(0, 0, 0, .08)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "#0f0";
    ctx.font = fontSize + "px monospace";

    drops.forEach((v, i) => {
        const text = chars[Math.floor(Math.random() * chars.length)];
        ctx.fillText(text, i * fontSize, v * fontSize);

        if (v * fontSize > canvas.height && Math.random() > 0.95)
            drops[i] = 0;

        drops[i]++;
    });
}
setInterval(drawMatrix, 33);


/* ========================== */
/* ====== ç»ˆç«¯æ–‡å­—æ•ˆæœ ====== */
/* ========================== */
const lines = [
    "[å¯åŠ¨] æ­£åœ¨æ¥å…¥å¤–éƒ¨æŒ‡ä»¤ç³»ç»Ÿ...",
    "[æˆåŠŸ] é‡å­åŠ é€Ÿå·²å¯ç”¨ã€‚",
    "[æ‰«æ] æ­£åœ¨åˆ†ææ•Œæ–¹åŠ¨ä½œ...",
    "[ç›‘æ§] æˆ˜æ–—ç”»é¢æ•è·ä¸­...",
    "",
    ">>> æˆ˜æ–—å³å°†å¼€å§‹ã€‚",
];
let idx = 0;

function printTerminal() {
    if (idx < lines.length) {
        terminal.textContent += lines[idx++] + "\n";
        setTimeout(printTerminal, 350);
    }
}
printTerminal();


/* ========================== */
/* ===== å°äººæˆ˜æ–—ç³»ç»Ÿ ======= */
/* ========================== */
let p1hp = 100, p2hp = 100;

function fight() {
    if (p1hp <= 0 || p2hp <= 0) return endFight();

    const attacker = Math.random() > 0.5 ? "p1" : "p2";

    if (attacker === "p1") {
        p1.style.transform = "translateX(20px)";
        setTimeout(() => p1.style.transform = "", 200);

        p2hp -= Math.floor(Math.random() * 10 + 5);
        p2hpinner.style.width = p2hp + "%";
    } else {
        p2.style.transform = "translateX(-20px)";
        setTimeout(() => p2.style.transform = "", 200);

        p1hp -= Math.floor(Math.random() * 10 + 5);
        p1hpinner.style.width = p1hp + "%";
    }
    setTimeout(fight, 500);
}
setTimeout(fight, 3500);


/* ========================== */
/* ====== æˆ˜æ–—ç»“æŸ â†’ è“å± ===== */
/* ========================== */
function endFight() {
    const winner = p1hp > 0 ? "å·¦ä¾§å°äººèƒœåˆ©" : "å³ä¾§å°äººèƒœåˆ©";

    terminal.textContent += "\n>>> æˆ˜æ–—ç»“æŸï¼š" + winner + "\n";
    terminal.textContent += ">>> ç³»ç»Ÿå¼‚å¸¸ï¼æ£€æµ‹åˆ°æœªæˆæƒæ”»å‡»ï¼\n";
    terminal.textContent += ">>> å³å°†å´©æºƒâ€¦â€¦\n";

    // 2ç§’åå¼€å§‹è“å±
    setTimeout(showBlueScreen, 2000);

    if (p1hp <= 0) p1.style.transform = "rotate(90deg)";
    if (p2hp <= 0) p2.style.transform = "rotate(-90deg)";
}


/* ========================== */
/* ======== è“å±æ¨¡æ‹Ÿ ========= */
/* ========================== */
function showBlueScreen() {
    document.body.innerHTML += ""; // ä¿é™©
    document.getElementById("bluescreen").style.display = "block";
}

document.getElementById("bluescreen").addEventListener("click", () => {
    alert("ä½ è¢«æ‰å¼„å•¦ ğŸ˜†ï¼");
});
</script>

</body>
</html>
